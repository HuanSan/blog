# 视频拍照下载

```ts
// 获取视频当前帧作为封面
const video = document.getElementById(element.userId) as HTMLVideoElement;
video.setAttribute('crossorigin', 'anonymous');
const canvas = document.createElement('canvas');
canvas.width = video.clientWidth;
canvas.height = video.clientHeight;
const ctx = canvas.getContext('2d');
ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
video.poster = canvas.toDataURL('image/jpeg');
```

```ts
// 下载当前视频帧
function downs(userd: string) {
  const video = document.getElementById(userd) as HTMLVideoElement;
  video.setAttribute('crossorigin', 'anonymous');
  const canvas = document.createElement('canvas');
  canvas.width = video.clientWidth;
  canvas.height = video.clientHeight;
  const ctx = canvas.getContext('2d');
  ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
  let link = document.createElement('a');
  link.style.display = 'none';
  link.href = canvas.toDataURL('image/png');
  link.setAttribute('download', 'aaa.png'); // 文件名
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link); // 下载完成移除元素
}
```
