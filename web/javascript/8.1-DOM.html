<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DOM | sanyer</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/blog/favicon.ico">
    <link rel="stylesheet" href="/blog/css/index.css">
    <script src="/blog/js/index.js"></script>
    <meta name="description" content="This is sanyer&#39;s blog.">
    
    <link rel="preload" href="/blog/assets/css/0.styles.732ef44a.css" as="style"><link rel="preload" href="/blog/assets/js/app.acffc015.js" as="script"><link rel="preload" href="/blog/assets/js/2.ce51b73f.js" as="script"><link rel="preload" href="/blog/assets/js/210.9361914f.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.25247be5.js"><link rel="prefetch" href="/blog/assets/js/100.8d2ecfe3.js"><link rel="prefetch" href="/blog/assets/js/101.8ac849f5.js"><link rel="prefetch" href="/blog/assets/js/102.21509684.js"><link rel="prefetch" href="/blog/assets/js/103.cb6fd9db.js"><link rel="prefetch" href="/blog/assets/js/104.f4a0d350.js"><link rel="prefetch" href="/blog/assets/js/105.27b06eba.js"><link rel="prefetch" href="/blog/assets/js/106.9c89d790.js"><link rel="prefetch" href="/blog/assets/js/107.38ce858f.js"><link rel="prefetch" href="/blog/assets/js/108.f126bd9d.js"><link rel="prefetch" href="/blog/assets/js/109.3874fd97.js"><link rel="prefetch" href="/blog/assets/js/11.162aed96.js"><link rel="prefetch" href="/blog/assets/js/110.ac738167.js"><link rel="prefetch" href="/blog/assets/js/111.ca107272.js"><link rel="prefetch" href="/blog/assets/js/112.d6946983.js"><link rel="prefetch" href="/blog/assets/js/113.cce36940.js"><link rel="prefetch" href="/blog/assets/js/114.0171f611.js"><link rel="prefetch" href="/blog/assets/js/115.a8722f08.js"><link rel="prefetch" href="/blog/assets/js/116.79932ba5.js"><link rel="prefetch" href="/blog/assets/js/117.9faecfe7.js"><link rel="prefetch" href="/blog/assets/js/118.69e9425b.js"><link rel="prefetch" href="/blog/assets/js/119.0d3e346e.js"><link rel="prefetch" href="/blog/assets/js/12.8e620bc6.js"><link rel="prefetch" href="/blog/assets/js/120.c3a6c729.js"><link rel="prefetch" href="/blog/assets/js/121.489f0f2f.js"><link rel="prefetch" href="/blog/assets/js/122.bd201711.js"><link rel="prefetch" href="/blog/assets/js/123.6a168600.js"><link rel="prefetch" href="/blog/assets/js/124.f0c5df5c.js"><link rel="prefetch" href="/blog/assets/js/125.0b1a4744.js"><link rel="prefetch" href="/blog/assets/js/126.63fb13b3.js"><link rel="prefetch" href="/blog/assets/js/127.9e788a45.js"><link rel="prefetch" href="/blog/assets/js/128.84861fd2.js"><link rel="prefetch" href="/blog/assets/js/129.1b50df67.js"><link rel="prefetch" href="/blog/assets/js/13.a3b62a76.js"><link rel="prefetch" href="/blog/assets/js/130.55276b52.js"><link rel="prefetch" href="/blog/assets/js/131.3134acaf.js"><link rel="prefetch" href="/blog/assets/js/132.0c8e2bbf.js"><link rel="prefetch" href="/blog/assets/js/133.e2e07204.js"><link rel="prefetch" href="/blog/assets/js/134.4f440f09.js"><link rel="prefetch" href="/blog/assets/js/135.66d76e03.js"><link rel="prefetch" href="/blog/assets/js/136.891250db.js"><link rel="prefetch" href="/blog/assets/js/137.e6f371e9.js"><link rel="prefetch" href="/blog/assets/js/138.e38e2cf1.js"><link rel="prefetch" href="/blog/assets/js/139.f65b06f7.js"><link rel="prefetch" href="/blog/assets/js/14.f3b54ba3.js"><link rel="prefetch" href="/blog/assets/js/140.287c67e1.js"><link rel="prefetch" href="/blog/assets/js/141.375e8594.js"><link rel="prefetch" href="/blog/assets/js/142.8c4832f6.js"><link rel="prefetch" href="/blog/assets/js/143.1f57051a.js"><link rel="prefetch" href="/blog/assets/js/144.07250623.js"><link rel="prefetch" href="/blog/assets/js/145.968e950a.js"><link rel="prefetch" href="/blog/assets/js/146.eeb606e4.js"><link rel="prefetch" href="/blog/assets/js/147.3a01d361.js"><link rel="prefetch" href="/blog/assets/js/148.e5b69df6.js"><link rel="prefetch" href="/blog/assets/js/149.7152080e.js"><link rel="prefetch" href="/blog/assets/js/15.49c138d6.js"><link rel="prefetch" href="/blog/assets/js/150.5300ff93.js"><link rel="prefetch" href="/blog/assets/js/151.c7163c5f.js"><link rel="prefetch" href="/blog/assets/js/152.ffcda3fb.js"><link rel="prefetch" href="/blog/assets/js/153.67e5a233.js"><link rel="prefetch" href="/blog/assets/js/154.6615c9f5.js"><link rel="prefetch" href="/blog/assets/js/155.cb81fc29.js"><link rel="prefetch" href="/blog/assets/js/156.1ba0c98e.js"><link rel="prefetch" href="/blog/assets/js/157.01910812.js"><link rel="prefetch" href="/blog/assets/js/158.58eed395.js"><link rel="prefetch" href="/blog/assets/js/159.d8e76d9c.js"><link rel="prefetch" href="/blog/assets/js/16.16e7445a.js"><link rel="prefetch" href="/blog/assets/js/160.ec4a486e.js"><link rel="prefetch" href="/blog/assets/js/161.90ea2ac0.js"><link rel="prefetch" href="/blog/assets/js/162.42393498.js"><link rel="prefetch" href="/blog/assets/js/163.30483532.js"><link rel="prefetch" href="/blog/assets/js/164.1760b698.js"><link rel="prefetch" href="/blog/assets/js/165.bd24035c.js"><link rel="prefetch" href="/blog/assets/js/166.27b83ef1.js"><link rel="prefetch" href="/blog/assets/js/167.b8b187e7.js"><link rel="prefetch" href="/blog/assets/js/168.fef1bb30.js"><link rel="prefetch" href="/blog/assets/js/169.b7aea390.js"><link rel="prefetch" href="/blog/assets/js/17.6d1c0b69.js"><link rel="prefetch" href="/blog/assets/js/170.44a788ef.js"><link rel="prefetch" href="/blog/assets/js/171.b754be6e.js"><link rel="prefetch" href="/blog/assets/js/172.c2db104b.js"><link rel="prefetch" href="/blog/assets/js/173.da7de927.js"><link rel="prefetch" href="/blog/assets/js/174.3df42bf4.js"><link rel="prefetch" href="/blog/assets/js/175.c7e4f162.js"><link rel="prefetch" href="/blog/assets/js/176.7141ad35.js"><link rel="prefetch" href="/blog/assets/js/177.4d37ef4a.js"><link rel="prefetch" href="/blog/assets/js/178.bfe71fbb.js"><link rel="prefetch" href="/blog/assets/js/179.2cdb4d4a.js"><link rel="prefetch" href="/blog/assets/js/18.c5612a3d.js"><link rel="prefetch" href="/blog/assets/js/180.d7f78885.js"><link rel="prefetch" href="/blog/assets/js/181.1f55a746.js"><link rel="prefetch" href="/blog/assets/js/182.7cfcc707.js"><link rel="prefetch" href="/blog/assets/js/183.9340f053.js"><link rel="prefetch" href="/blog/assets/js/184.5c4e5171.js"><link rel="prefetch" href="/blog/assets/js/185.482338ac.js"><link rel="prefetch" href="/blog/assets/js/186.1e95de00.js"><link rel="prefetch" href="/blog/assets/js/187.0b98d235.js"><link rel="prefetch" href="/blog/assets/js/188.dd6e7a7f.js"><link rel="prefetch" href="/blog/assets/js/189.ce634551.js"><link rel="prefetch" href="/blog/assets/js/19.e78f2fa8.js"><link rel="prefetch" href="/blog/assets/js/190.331abd45.js"><link rel="prefetch" href="/blog/assets/js/191.d7990919.js"><link rel="prefetch" href="/blog/assets/js/192.20187a9d.js"><link rel="prefetch" href="/blog/assets/js/193.8e977171.js"><link rel="prefetch" href="/blog/assets/js/194.7ec1b012.js"><link rel="prefetch" href="/blog/assets/js/195.1306a521.js"><link rel="prefetch" href="/blog/assets/js/196.158a6983.js"><link rel="prefetch" href="/blog/assets/js/197.4cb1fa7a.js"><link rel="prefetch" href="/blog/assets/js/198.032ac65f.js"><link rel="prefetch" href="/blog/assets/js/199.f238e909.js"><link rel="prefetch" href="/blog/assets/js/20.1402e350.js"><link rel="prefetch" href="/blog/assets/js/200.86b1bbde.js"><link rel="prefetch" href="/blog/assets/js/201.42dc9085.js"><link rel="prefetch" href="/blog/assets/js/202.3bc59d1d.js"><link rel="prefetch" href="/blog/assets/js/203.00aadd39.js"><link rel="prefetch" href="/blog/assets/js/204.05a56fdb.js"><link rel="prefetch" href="/blog/assets/js/205.f02f2f9e.js"><link rel="prefetch" href="/blog/assets/js/206.e3550025.js"><link rel="prefetch" href="/blog/assets/js/207.e88c1b2b.js"><link rel="prefetch" href="/blog/assets/js/208.b213f57f.js"><link rel="prefetch" href="/blog/assets/js/209.e29692f5.js"><link rel="prefetch" href="/blog/assets/js/21.77856e9d.js"><link rel="prefetch" href="/blog/assets/js/211.80fc2efe.js"><link rel="prefetch" href="/blog/assets/js/212.eb155551.js"><link rel="prefetch" href="/blog/assets/js/213.3bfbcdc5.js"><link rel="prefetch" href="/blog/assets/js/214.592706b8.js"><link rel="prefetch" href="/blog/assets/js/215.4eceb683.js"><link rel="prefetch" href="/blog/assets/js/216.64de1fb4.js"><link rel="prefetch" href="/blog/assets/js/217.45475475.js"><link rel="prefetch" href="/blog/assets/js/218.55788080.js"><link rel="prefetch" href="/blog/assets/js/219.50197131.js"><link rel="prefetch" href="/blog/assets/js/22.93314fe0.js"><link rel="prefetch" href="/blog/assets/js/220.f4be0b9d.js"><link rel="prefetch" href="/blog/assets/js/221.6abb198c.js"><link rel="prefetch" href="/blog/assets/js/222.6c8a5437.js"><link rel="prefetch" href="/blog/assets/js/223.77bf90df.js"><link rel="prefetch" href="/blog/assets/js/224.b0bfacaa.js"><link rel="prefetch" href="/blog/assets/js/225.5f1b0f4e.js"><link rel="prefetch" href="/blog/assets/js/226.79b777e6.js"><link rel="prefetch" href="/blog/assets/js/227.99a11bd1.js"><link rel="prefetch" href="/blog/assets/js/228.8d5a405d.js"><link rel="prefetch" href="/blog/assets/js/229.369a3217.js"><link rel="prefetch" href="/blog/assets/js/23.2e266fc0.js"><link rel="prefetch" href="/blog/assets/js/230.44d38c70.js"><link rel="prefetch" href="/blog/assets/js/231.446828c9.js"><link rel="prefetch" href="/blog/assets/js/232.ffd03d09.js"><link rel="prefetch" href="/blog/assets/js/233.bd81f22d.js"><link rel="prefetch" href="/blog/assets/js/234.b7483976.js"><link rel="prefetch" href="/blog/assets/js/235.72e56d1b.js"><link rel="prefetch" href="/blog/assets/js/236.1c1b039e.js"><link rel="prefetch" href="/blog/assets/js/237.b435a23d.js"><link rel="prefetch" href="/blog/assets/js/238.23912483.js"><link rel="prefetch" href="/blog/assets/js/239.65a58133.js"><link rel="prefetch" href="/blog/assets/js/24.77928626.js"><link rel="prefetch" href="/blog/assets/js/240.6e6f27b3.js"><link rel="prefetch" href="/blog/assets/js/241.16e38a10.js"><link rel="prefetch" href="/blog/assets/js/242.a6be043b.js"><link rel="prefetch" href="/blog/assets/js/243.fe75a4f7.js"><link rel="prefetch" href="/blog/assets/js/244.921707fa.js"><link rel="prefetch" href="/blog/assets/js/245.d9c0f9c2.js"><link rel="prefetch" href="/blog/assets/js/246.a41307fd.js"><link rel="prefetch" href="/blog/assets/js/247.c0dc05e6.js"><link rel="prefetch" href="/blog/assets/js/248.29a889f8.js"><link rel="prefetch" href="/blog/assets/js/249.ce18e2f5.js"><link rel="prefetch" href="/blog/assets/js/25.a821f5e8.js"><link rel="prefetch" href="/blog/assets/js/250.2194a735.js"><link rel="prefetch" href="/blog/assets/js/251.2b317265.js"><link rel="prefetch" href="/blog/assets/js/252.3b70f5d6.js"><link rel="prefetch" href="/blog/assets/js/253.585318e1.js"><link rel="prefetch" href="/blog/assets/js/254.a47372d1.js"><link rel="prefetch" href="/blog/assets/js/255.e516ada7.js"><link rel="prefetch" href="/blog/assets/js/256.d180178d.js"><link rel="prefetch" href="/blog/assets/js/257.7243f3b7.js"><link rel="prefetch" href="/blog/assets/js/258.c00cbab7.js"><link rel="prefetch" href="/blog/assets/js/259.ad02534f.js"><link rel="prefetch" href="/blog/assets/js/26.34ed0a98.js"><link rel="prefetch" href="/blog/assets/js/260.027adad2.js"><link rel="prefetch" href="/blog/assets/js/261.1c342c89.js"><link rel="prefetch" href="/blog/assets/js/262.a2a59d77.js"><link rel="prefetch" href="/blog/assets/js/263.1cc41085.js"><link rel="prefetch" href="/blog/assets/js/264.b596acc7.js"><link rel="prefetch" href="/blog/assets/js/265.bd041adb.js"><link rel="prefetch" href="/blog/assets/js/266.7cf6f298.js"><link rel="prefetch" href="/blog/assets/js/267.72f2a99a.js"><link rel="prefetch" href="/blog/assets/js/268.1bbd7961.js"><link rel="prefetch" href="/blog/assets/js/269.eeec946d.js"><link rel="prefetch" href="/blog/assets/js/27.8317731b.js"><link rel="prefetch" href="/blog/assets/js/270.d7a740b2.js"><link rel="prefetch" href="/blog/assets/js/271.307791a1.js"><link rel="prefetch" href="/blog/assets/js/272.0c630b83.js"><link rel="prefetch" href="/blog/assets/js/273.c5c9d8d2.js"><link rel="prefetch" href="/blog/assets/js/274.a146d2a2.js"><link rel="prefetch" href="/blog/assets/js/275.823a10be.js"><link rel="prefetch" href="/blog/assets/js/276.42a4c6de.js"><link rel="prefetch" href="/blog/assets/js/277.d188dd86.js"><link rel="prefetch" href="/blog/assets/js/278.c2ad78e1.js"><link rel="prefetch" href="/blog/assets/js/279.a7ebebab.js"><link rel="prefetch" href="/blog/assets/js/28.da94d0df.js"><link rel="prefetch" href="/blog/assets/js/280.9bd642eb.js"><link rel="prefetch" href="/blog/assets/js/281.d61a3499.js"><link rel="prefetch" href="/blog/assets/js/282.7bb97093.js"><link rel="prefetch" href="/blog/assets/js/283.e60a3629.js"><link rel="prefetch" href="/blog/assets/js/284.36016804.js"><link rel="prefetch" href="/blog/assets/js/285.203ae0c6.js"><link rel="prefetch" href="/blog/assets/js/286.e7fb45eb.js"><link rel="prefetch" href="/blog/assets/js/287.41afd33d.js"><link rel="prefetch" href="/blog/assets/js/288.bd1dd68b.js"><link rel="prefetch" href="/blog/assets/js/289.7294fe65.js"><link rel="prefetch" href="/blog/assets/js/29.6abdf40c.js"><link rel="prefetch" href="/blog/assets/js/290.3b8dc18e.js"><link rel="prefetch" href="/blog/assets/js/291.d3139cd0.js"><link rel="prefetch" href="/blog/assets/js/292.f1c3a2d6.js"><link rel="prefetch" href="/blog/assets/js/293.86261768.js"><link rel="prefetch" href="/blog/assets/js/294.67d4c815.js"><link rel="prefetch" href="/blog/assets/js/295.683253b6.js"><link rel="prefetch" href="/blog/assets/js/296.3856e777.js"><link rel="prefetch" href="/blog/assets/js/297.349c01db.js"><link rel="prefetch" href="/blog/assets/js/298.ef13eb8a.js"><link rel="prefetch" href="/blog/assets/js/299.aff13db4.js"><link rel="prefetch" href="/blog/assets/js/3.1c7b4f42.js"><link rel="prefetch" href="/blog/assets/js/30.2ec57b94.js"><link rel="prefetch" href="/blog/assets/js/300.5beb97bf.js"><link rel="prefetch" href="/blog/assets/js/301.16d16322.js"><link rel="prefetch" href="/blog/assets/js/302.9e591209.js"><link rel="prefetch" href="/blog/assets/js/303.f701d9e2.js"><link rel="prefetch" href="/blog/assets/js/304.62ef6283.js"><link rel="prefetch" href="/blog/assets/js/305.39a88351.js"><link rel="prefetch" href="/blog/assets/js/306.3fae6dd2.js"><link rel="prefetch" href="/blog/assets/js/307.65467201.js"><link rel="prefetch" href="/blog/assets/js/308.d69df473.js"><link rel="prefetch" href="/blog/assets/js/309.9bd61255.js"><link rel="prefetch" href="/blog/assets/js/31.8bce677c.js"><link rel="prefetch" href="/blog/assets/js/310.5431f575.js"><link rel="prefetch" href="/blog/assets/js/311.91e247b1.js"><link rel="prefetch" href="/blog/assets/js/312.986537b2.js"><link rel="prefetch" href="/blog/assets/js/32.6fa07dbb.js"><link rel="prefetch" href="/blog/assets/js/33.7a753426.js"><link rel="prefetch" href="/blog/assets/js/34.5ddb8fed.js"><link rel="prefetch" href="/blog/assets/js/35.7516a7a6.js"><link rel="prefetch" href="/blog/assets/js/36.0cb50324.js"><link rel="prefetch" href="/blog/assets/js/37.f03e8ea2.js"><link rel="prefetch" href="/blog/assets/js/38.0b5ac987.js"><link rel="prefetch" href="/blog/assets/js/39.eba9f0a3.js"><link rel="prefetch" href="/blog/assets/js/4.5bec9a0e.js"><link rel="prefetch" href="/blog/assets/js/40.14704cee.js"><link rel="prefetch" href="/blog/assets/js/41.ed058fea.js"><link rel="prefetch" href="/blog/assets/js/42.af5a1842.js"><link rel="prefetch" href="/blog/assets/js/43.51f641b7.js"><link rel="prefetch" href="/blog/assets/js/44.8a32771c.js"><link rel="prefetch" href="/blog/assets/js/45.c4b8fe67.js"><link rel="prefetch" href="/blog/assets/js/46.607e4b63.js"><link rel="prefetch" href="/blog/assets/js/47.3d61009a.js"><link rel="prefetch" href="/blog/assets/js/48.f0534a7c.js"><link rel="prefetch" href="/blog/assets/js/49.e6ffa467.js"><link rel="prefetch" href="/blog/assets/js/5.ea8e73f0.js"><link rel="prefetch" href="/blog/assets/js/50.0e624d4e.js"><link rel="prefetch" href="/blog/assets/js/51.ceb154dd.js"><link rel="prefetch" href="/blog/assets/js/52.b869e19a.js"><link rel="prefetch" href="/blog/assets/js/53.b67c9baf.js"><link rel="prefetch" href="/blog/assets/js/54.b74596b7.js"><link rel="prefetch" href="/blog/assets/js/55.0812a4c6.js"><link rel="prefetch" href="/blog/assets/js/56.d349e929.js"><link rel="prefetch" href="/blog/assets/js/57.aebf5d5b.js"><link rel="prefetch" href="/blog/assets/js/58.ddca3ae9.js"><link rel="prefetch" href="/blog/assets/js/59.8e661ed1.js"><link rel="prefetch" href="/blog/assets/js/6.2da0b1b8.js"><link rel="prefetch" href="/blog/assets/js/60.edf5bfa2.js"><link rel="prefetch" href="/blog/assets/js/61.fc26f9fd.js"><link rel="prefetch" href="/blog/assets/js/62.3519fb84.js"><link rel="prefetch" href="/blog/assets/js/63.4f461fb4.js"><link rel="prefetch" href="/blog/assets/js/64.d3aaae22.js"><link rel="prefetch" href="/blog/assets/js/65.614991b8.js"><link rel="prefetch" href="/blog/assets/js/66.ee079f06.js"><link rel="prefetch" href="/blog/assets/js/67.3cf2aba4.js"><link rel="prefetch" href="/blog/assets/js/68.3ab5d2db.js"><link rel="prefetch" href="/blog/assets/js/69.0fd5fb17.js"><link rel="prefetch" href="/blog/assets/js/7.9d7d0342.js"><link rel="prefetch" href="/blog/assets/js/70.1fb74e59.js"><link rel="prefetch" href="/blog/assets/js/71.82e0020a.js"><link rel="prefetch" href="/blog/assets/js/72.aeb87551.js"><link rel="prefetch" href="/blog/assets/js/73.67c6a9bb.js"><link rel="prefetch" href="/blog/assets/js/74.94104968.js"><link rel="prefetch" href="/blog/assets/js/75.283b9b7e.js"><link rel="prefetch" href="/blog/assets/js/76.9f836f1e.js"><link rel="prefetch" href="/blog/assets/js/77.a753ffb8.js"><link rel="prefetch" href="/blog/assets/js/78.d30005be.js"><link rel="prefetch" href="/blog/assets/js/79.a72e9034.js"><link rel="prefetch" href="/blog/assets/js/8.19a2e4b4.js"><link rel="prefetch" href="/blog/assets/js/80.557068f5.js"><link rel="prefetch" href="/blog/assets/js/81.1e960672.js"><link rel="prefetch" href="/blog/assets/js/82.674f64e0.js"><link rel="prefetch" href="/blog/assets/js/83.e38b852e.js"><link rel="prefetch" href="/blog/assets/js/84.d334736a.js"><link rel="prefetch" href="/blog/assets/js/85.5414656d.js"><link rel="prefetch" href="/blog/assets/js/86.717e04c7.js"><link rel="prefetch" href="/blog/assets/js/87.f54f8413.js"><link rel="prefetch" href="/blog/assets/js/88.fe494a75.js"><link rel="prefetch" href="/blog/assets/js/89.84af5bb2.js"><link rel="prefetch" href="/blog/assets/js/9.b19d45f5.js"><link rel="prefetch" href="/blog/assets/js/90.ab84b322.js"><link rel="prefetch" href="/blog/assets/js/91.4d857118.js"><link rel="prefetch" href="/blog/assets/js/92.b47bead4.js"><link rel="prefetch" href="/blog/assets/js/93.5727d5d3.js"><link rel="prefetch" href="/blog/assets/js/94.91c6830a.js"><link rel="prefetch" href="/blog/assets/js/95.055eb21f.js"><link rel="prefetch" href="/blog/assets/js/96.f8570668.js"><link rel="prefetch" href="/blog/assets/js/97.37416180.js"><link rel="prefetch" href="/blog/assets/js/98.082f4f32.js"><link rel="prefetch" href="/blog/assets/js/99.622659af.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.732ef44a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/img/logo.png" alt="sanyer" class="logo"> <span class="site-name can-hide">sanyer</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端笔记" class="dropdown-title"><span class="title">前端笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端笔记" class="mobile-dropdown-title"><span class="title">前端笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/web/javascript/" class="nav-link router-link-active">
  javascript
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/html/" class="nav-link">
  html
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/css/" class="nav-link">
  css
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/vue/" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/vue3/" class="nav-link">
  vue3
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/webpack/" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/vite/" class="nav-link">
  vite
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/babel/" class="nav-link">
  babel
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/weex/" class="nav-link">
  weex
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/typescript/" class="nav-link">
  typescript
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/node/" class="nav-link">
  node
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/electron/" class="nav-link">
  electron
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/webrtc/" class="nav-link">
  WebRTC
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/websocket/" class="nav-link">
  WebSocket
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/network/" class="nav-link">
  网络知识
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/design/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/algorithm/" class="nav-link">
  数据结构/算法
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/security/" class="nav-link">
  安全
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/interview/" class="nav-link">
  面试题
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/booklist/" class="nav-link">
  书单
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/article/website/" class="nav-link">
  站点分享
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/git/" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/configure/" class="nav-link">
  配置说明
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/android/" class="nav-link">
  Android
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/nginx/" class="nav-link">
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/pm2/" class="nav-link">
  pm2
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/npm/" class="nav-link">
  npm
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/windows/" class="nav-link">
  windows
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/ffmpeg/" class="nav-link">
  ffmpeg
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/linux/" class="nav-link">
  linux
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/python/" class="nav-link">
  python
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/php/" class="nav-link">
  php
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/golang/" class="nav-link">
  golang
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/c++/" class="nav-link">
  c++
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/study/" class="nav-link">
  study
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/nextcloud/" class="nav-link">
  nextcloud
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/database/" class="nav-link">
  数据库
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="书籍系列" class="dropdown-title"><span class="title">书籍系列</span> <span class="arrow down"></span></button> <button type="button" aria-label="书籍系列" class="mobile-dropdown-title"><span class="title">书籍系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/original/webdesign/" class="nav-link">
  《从零开始网页设计》
</a></li><li class="dropdown-item"><!----> <a href="/blog/original/js-definitive/" class="nav-link">
  《JavaScript权威指南 第七版》 笔记
</a></li></ul></div></div><div class="nav-item"><a href="https://sanyers.github.io/resume/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人简历
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="导航" class="dropdown-title"><span class="title">导航</span> <span class="arrow down"></span></button> <button type="button" aria-label="导航" class="mobile-dropdown-title"><span class="title">导航</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/sanyers/blog.git" target="_blank" rel="noopener noreferrer" class="nav-link external">
  gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/sanyers/blog.git" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.jianshu.com/u/126bb2363acb" target="_blank" rel="noopener noreferrer" class="nav-link external">
  简书
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://sanyers.github.io/qa-system/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  面试题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端笔记" class="dropdown-title"><span class="title">前端笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端笔记" class="mobile-dropdown-title"><span class="title">前端笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/web/javascript/" class="nav-link router-link-active">
  javascript
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/html/" class="nav-link">
  html
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/css/" class="nav-link">
  css
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/vue/" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/vue3/" class="nav-link">
  vue3
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/webpack/" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/vite/" class="nav-link">
  vite
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/babel/" class="nav-link">
  babel
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/weex/" class="nav-link">
  weex
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/typescript/" class="nav-link">
  typescript
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/node/" class="nav-link">
  node
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/electron/" class="nav-link">
  electron
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/webrtc/" class="nav-link">
  WebRTC
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/websocket/" class="nav-link">
  WebSocket
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/network/" class="nav-link">
  网络知识
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/design/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/algorithm/" class="nav-link">
  数据结构/算法
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/security/" class="nav-link">
  安全
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/interview/" class="nav-link">
  面试题
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/booklist/" class="nav-link">
  书单
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/article/website/" class="nav-link">
  站点分享
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/git/" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/configure/" class="nav-link">
  配置说明
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/android/" class="nav-link">
  Android
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/nginx/" class="nav-link">
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/pm2/" class="nav-link">
  pm2
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/npm/" class="nav-link">
  npm
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/windows/" class="nav-link">
  windows
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/ffmpeg/" class="nav-link">
  ffmpeg
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/linux/" class="nav-link">
  linux
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/python/" class="nav-link">
  python
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/php/" class="nav-link">
  php
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/golang/" class="nav-link">
  golang
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/c++/" class="nav-link">
  c++
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/study/" class="nav-link">
  study
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/nextcloud/" class="nav-link">
  nextcloud
</a></li><li class="dropdown-item"><!----> <a href="/blog/article/database/" class="nav-link">
  数据库
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="书籍系列" class="dropdown-title"><span class="title">书籍系列</span> <span class="arrow down"></span></button> <button type="button" aria-label="书籍系列" class="mobile-dropdown-title"><span class="title">书籍系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/original/webdesign/" class="nav-link">
  《从零开始网页设计》
</a></li><li class="dropdown-item"><!----> <a href="/blog/original/js-definitive/" class="nav-link">
  《JavaScript权威指南 第七版》 笔记
</a></li></ul></div></div><div class="nav-item"><a href="https://sanyers.github.io/resume/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人简历
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="导航" class="dropdown-title"><span class="title">导航</span> <span class="arrow down"></span></button> <button type="button" aria-label="导航" class="mobile-dropdown-title"><span class="title">导航</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/sanyers/blog.git" target="_blank" rel="noopener noreferrer" class="nav-link external">
  gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/sanyers/blog.git" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.jianshu.com/u/126bb2363acb" target="_blank" rel="noopener noreferrer" class="nav-link external">
  简书
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://sanyers.github.io/qa-system/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  面试题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/web/javascript/" aria-current="page" class="sidebar-link">目录</a></li><li><a href="/blog/web/javascript/0.1-什么是JavaScript.html" class="sidebar-link">0.1-什么是JavaScript</a></li><li><a href="/blog/web/javascript/0.2-HTML中的JavaScript.html" class="sidebar-link">0.2-HTML中的JavaScript</a></li><li><a href="/blog/web/javascript/0.3-语言基础.html" class="sidebar-link">0.3-语言基础</a></li><li><a href="/blog/web/javascript/1.1-js数据类型.html" class="sidebar-link">1.1-js数据类型</a></li><li><a href="/blog/web/javascript/1.2-undefined与null的区别.html" class="sidebar-link">1.2-undefined与null的区别</a></li><li><a href="/blog/web/javascript/1.3-js基础数据类型详解.html" class="sidebar-link">1.3-js基础数据类型详解</a></li><li><a href="/blog/web/javascript/1.4-js基本引用类型详解.html" class="sidebar-link">1.4-js基本引用类型详解</a></li><li><a href="/blog/web/javascript/1.5-js集合引用类型详解.html" class="sidebar-link">1.5-js集合引用类型详解</a></li><li><a href="/blog/web/javascript/1.6-Symbol详解.html" class="sidebar-link">1.6-Symbol详解</a></li><li><a href="/blog/web/javascript/2.1-js变量详解.html" class="sidebar-link">2.1-js变量详解</a></li><li><a href="/blog/web/javascript/2.2-js作用域及作用域链.html" class="sidebar-link">2.2-js作用域及作用域链</a></li><li><a href="/blog/web/javascript/2.3-作用域的问题.html" class="sidebar-link">2.3-作用域的问题</a></li><li><a href="/blog/web/javascript/2.4-js执行上下文.html" class="sidebar-link">2.4-js执行上下文</a></li><li><a href="/blog/web/javascript/3-js运算符优先级.html" class="sidebar-link">3-js运算符优先级</a></li><li><a href="/blog/web/javascript/4.1-js对象详解.html" class="sidebar-link">4.1-js对象详解</a></li><li><a href="/blog/web/javascript/4.2-entries和fromEntries用法.html" class="sidebar-link">4.2-entries和fromEntries用法</a></li><li><a href="/blog/web/javascript/5.1-js函数.html" class="sidebar-link">5.1-js函数</a></li><li><a href="/blog/web/javascript/5.2-js函数柯里化.html" class="sidebar-link">5.2-js函数柯里化</a></li><li><a href="/blog/web/javascript/5.3-js函数防抖和节流.html" class="sidebar-link">5.3-js函数防抖和节流</a></li><li><a href="/blog/web/javascript/5.4-Promise与异步函数.html" class="sidebar-link">5.4-Promise与异步函数</a></li><li><a href="/blog/web/javascript/6-js迭代器与生成器.html" class="sidebar-link">6-js迭代器与生成器</a></li><li><a href="/blog/web/javascript/7-js代理与反射.html" class="sidebar-link">7-js代理与反射</a></li><li><a href="/blog/web/javascript/8.1-DOM.html" aria-current="page" class="active sidebar-link">8.1-DOM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/web/javascript/8.1-DOM.html#_1、节点层级" class="sidebar-link">1、节点层级</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/web/javascript/8.1-DOM.html#_1-2-document-类型" class="sidebar-link">1.2 Document 类型</a></li><li class="sidebar-sub-header"><a href="/blog/web/javascript/8.1-DOM.html#_1-3-element-类型" class="sidebar-link">1.3 Element 类型</a></li><li class="sidebar-sub-header"><a href="/blog/web/javascript/8.1-DOM.html#_1-4-text-类型" class="sidebar-link">1.4 Text 类型</a></li><li class="sidebar-sub-header"><a href="/blog/web/javascript/8.1-DOM.html#_1-5-comment-类型" class="sidebar-link">1.5 Comment 类型</a></li><li class="sidebar-sub-header"><a href="/blog/web/javascript/8.1-DOM.html#_1-6-cdatasection-类型" class="sidebar-link">1.6 CDATASection 类型</a></li><li class="sidebar-sub-header"><a href="/blog/web/javascript/8.1-DOM.html#_1-8-documentfragment-类型" class="sidebar-link">1.8 DocumentFragment 类型</a></li><li class="sidebar-sub-header"><a href="/blog/web/javascript/8.1-DOM.html#_1-9-attr-类型" class="sidebar-link">1.9 Attr 类型</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/web/javascript/8.1-DOM.html#_2、dom-编程" class="sidebar-link">2、DOM 编程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/web/javascript/8.1-DOM.html#_2-1-动态脚本" class="sidebar-link">2.1 动态脚本</a></li><li class="sidebar-sub-header"><a href="/blog/web/javascript/8.1-DOM.html#_2-2-动态样式" class="sidebar-link">2.2 动态样式</a></li><li class="sidebar-sub-header"><a href="/blog/web/javascript/8.1-DOM.html#_2-3-操作表格" class="sidebar-link">2.3 操作表格</a></li><li class="sidebar-sub-header"><a href="/blog/web/javascript/8.1-DOM.html#_2-4-使用-nodelist" class="sidebar-link">2.4 使用 NodeList</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/web/javascript/8.1-DOM.html#_3、mutationobserver-接口" class="sidebar-link">3、MutationObserver 接口</a></li></ul></li><li><a href="/blog/web/javascript/8.2-DOM扩展.html" class="sidebar-link">8.2-DOM扩展</a></li><li><a href="/blog/web/javascript/8.3-BOM.html" class="sidebar-link">8.3-BOM</a></li><li><a href="/blog/web/javascript/9.1-事件.html" class="sidebar-link">9.1-事件</a></li><li><a href="/blog/web/javascript/10-动画与canvas图形.html" class="sidebar-link">10-动画与canvas图形</a></li><li><a href="/blog/web/javascript/11-错误处理与调试.html" class="sidebar-link">11-错误处理与调试</a></li><li><a href="/blog/web/javascript/12.1-处理XML.html" class="sidebar-link">12.1-处理XML</a></li><li><a href="/blog/web/javascript/12.2-处理JSON.html" class="sidebar-link">12.2-处理JSON</a></li><li><a href="/blog/web/javascript/13-网络请求.html" class="sidebar-link">13-网络请求</a></li><li><a href="/blog/web/javascript/14-客户端存储.html" class="sidebar-link">14-客户端存储</a></li><li><a href="/blog/web/javascript/15-模块化.html" class="sidebar-link">15-模块化</a></li><li><a href="/blog/web/javascript/16.1-垃圾回收.html" class="sidebar-link">16.1-垃圾回收</a></li><li><a href="/blog/web/javascript/16.2-内存泄漏.html" class="sidebar-link">16.2-内存泄漏</a></li><li><a href="/blog/web/javascript/17-工作者线程.html" class="sidebar-link">17-工作者线程</a></li><li><a href="/blog/web/javascript/18-es6~es13.html" class="sidebar-link">18-es6~es13</a></li><li><a href="/blog/web/javascript/19.1-jsapi.html" class="sidebar-link">19.1-jsapi</a></li><li><a href="/blog/web/javascript/19.2-js处理二进制.html" class="sidebar-link">19.2-js处理二进制</a></li><li><a href="/blog/web/javascript/20.1-js面试题汇总-上.html" class="sidebar-link">20.1-js面试题汇总-上</a></li><li><a href="/blog/web/javascript/20.2-js面试题汇总-下.html" class="sidebar-link">20.2-js面试题汇总-下</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="dom"><a href="#dom" class="header-anchor">#</a> DOM</h1> <p>文档对象模型（DOM，Document Object Model）是 HTML 和 XML 文档的编程接口。DOM 表示由多层节点构成的文档，通过它开发者可以添加、删除和修改页面的各个部分。</p> <p>本质上是允许程序读取和操作页面的内容，结构和样式的页面 API。</p> <h2 id="_1、节点层级"><a href="#_1、节点层级" class="header-anchor">#</a> 1、节点层级</h2> <p>任何 HTML 或 XML 文档都可以用 DOM 表示为一个由节点构成的层级结构。节点分很多类型，每种类型对应着文档中不同的信息和（或）标记，也都有自己不同的特性、数据和方法，而且与其他类型有某种关系。这些关系构成了层级，让标记可以表示为一个以特定节点为根的树形结构。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Sample Page<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Hello World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>表现的层级关系为：</p> <ul><li>Document
<ul><li>Element <code>html</code> <ul><li>Element <code>head</code> <ul><li>Element <code>title</code> <ul><li>Text <code>Sample Page</code></li></ul></li></ul></li> <li>Element <code>body</code> <ul><li>Element <code>p</code> <ul><li>Text <code>Hello World!</code></li></ul></li></ul></li></ul></li></ul></li></ul> <p>###　 1.1 Node 类型</p> <p>Node 接口在 JavaScript 中被实现为 Node 类型，在除 IE 之外的所有浏览器中都可以直接访问这个类型。在 JavaScript 中，所有节点类型都继承 Node 类型，因此所有类型都共享相同的基本属性和方法。</p> <p>每个节点都有 nodeType 属性，表示该节点的类型。</p> <p>节点类型由定义在 Node 类型上的 12 个数值常量表示：</p> <ul><li>Node.ELEMENT_NODE（1）</li> <li>Node.ATTRIBUTE_NODE（2）</li> <li>Node.TEXT_NODE（3）</li> <li>Node.CDATA_SECTION_NODE（4）</li> <li>Node.ENTITY_REFERENCE_NODE（5）</li> <li>Node.ENTITY_NODE（6）</li> <li>Node.PROCESSING_INSTRUCTION_NODE（7）</li> <li>Node.COMMENT_NODE（8）</li> <li>Node.DOCUMENT_NODE（9）</li> <li>Node.DOCUMENT_TYPE_NODE（10）</li> <li>Node.DOCUMENT_FRAGMENT_NODE（11）</li> <li>Node.NOTATION_NODE（12）</li></ul> <p>节点类型可通过与这些常量比较来确定，比如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>someNode<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> Node<span class="token punctuation">.</span><span class="token constant">ELEMENT_NODE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Node is an element.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>（1）nodeName 与 nodeValue</p> <p>nodeName 与 nodeValue 保存着有关节点的信息。这两个属性的值完全取决于节点类型。在使用这两个属性前，最好先检测节点类型，如下所示：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>someNode<span class="token punctuation">.</span>nodeType <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  value <span class="token operator">=</span> someNode<span class="token punctuation">.</span>nodeName<span class="token punctuation">;</span> <span class="token comment">// 会显示元素的标签名</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>在这个例子中，先检查了节点是不是元素。如果是，则将其 nodeName 的值赋给一个变量。对元素而言，nodeName 始终等于元素的标签名，而 nodeValue 则始终为 null。</p> <p>（2）节点关系</p> <p>每个节点都有一个 childNodes 属性，其中包含一个 NodeList 的实例。NodeList 是一个类数组对象，用于存储可以按位置存取的有序节点。</p> <blockquote><p>注意，NodeList 并不是 Array 的实例，但可以使用中括号访问它的值，而且它也有 length 属性。NodeList 对象独特的地方在于，它其实是一个对 DOM 结构的查询，因此 DOM 结构的变化会自动地在 NodeList 中反映出来。我们通常说 NodeList 是实时的活动对象，而不是第一次访问时所获得内容的快照。</p></blockquote> <p>访问 NodeList 中元素：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> firstChild <span class="token operator">=</span> someNode<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> secondChild <span class="token operator">=</span> someNode<span class="token punctuation">.</span>childNodes<span class="token punctuation">.</span><span class="token function">item</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> count <span class="token operator">=</span> someNode<span class="token punctuation">.</span>childNodes<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>转换为数组：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 第一种方式</span>
<span class="token keyword">let</span> arrayOfNodes <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>someNode<span class="token punctuation">.</span>childNodes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 第二种方式</span>
<span class="token keyword">let</span> arrayOfNodes <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>someNode<span class="token punctuation">.</span>childNodes<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 第三种方式</span>
<span class="token keyword">let</span> arrayOfNodes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>someNode<span class="token punctuation">.</span>childNodes<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>节点关系：</p> <div class="img-page"><a data-fancybox="" title="节点关系" href="/blog/img/web/js/page_7.png"><img src="/blog/img/web/js/page_7.png" alt="节点关系"></a></div> <p>父关系型：</p> <ul><li><code>parentNode</code> 表示元素的父节点</li> <li><code>parentElement</code> 返回元素的父元素节点，与 parentNode 的区别在于，其父节点必须是一个Element，如果不是，则返回 null。</li></ul> <p>子关系型：</p> <ul><li><code>childNodes</code> 返回一个即时的NodeList，表示元素的子节点列表，子节点可能会包含文本节点，注释节点等</li> <li><code>children</code> 一个即时的 HTMLCollection，子节点都是 Element，IE9 以下浏览器不支持 children 属性为只读属性，对象类型为 HTMLCollection</li> <li><code>firstChild</code> 只读属性返回树中节点的第一个子节点，如果节点是无子节点，则返回 null</li> <li><code>lastChild</code> 返回当前节点的最后一个子节点。如果父节点为一个元素节点，则子节点通常为一个元素节点，或一个文本节点，或一个注释节点。如果没有子节点，则返回 null</li> <li><code>hasChildNodes</code> 返回一个布尔值，表明当前节点是否包含有子节点</li></ul> <p>兄弟关系型：</p> <ul><li><code>previousSibling</code> 返回当前节点的前一个兄弟节点，没有则返回 null</li> <li><code>previousElementSibling</code> 返回当前元素在其父元素的子元素节点中的前一个元素节点，如果该元素已经是第一个元素节点，则返回 null，该属性是只读的</li> <li><code>nextSibling</code> 只读属性，返回其父节点的 childNodes 列表中紧跟在其后面的节点，如果指定的节点为最后一个节点，则返回 null</li> <li><code>nextElementSibling</code> 返回当前元素在其父元素的子元素节点中的后一个元素节点，如果该元素已经是最后一个元素节点，则返回null，该属性是只读的，注意 IE9 以下浏览器不支持</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 用法</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>someNode<span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'parentNode'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// someNode.parentElement;</span>
<span class="token comment">// someNode.childNodes;</span>
<span class="token comment">// someNode.children;</span>
<span class="token comment">// someNode.firstChild;</span>
<span class="token comment">// someNode.lastChild;</span>
<span class="token comment">// someNode.previousSibling;</span>
<span class="token comment">// someNode.previousElementSibling;</span>
<span class="token comment">// someNode.nextElementSibling;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>（3）操纵节点</p> <ul><li><code>appendChild()</code> 用于在 childNodes 列表末尾添加节点</li> <li><code>insertBefore()</code> 用来添加一个节点到一个参照节点之前</li> <li><code>removeChild()</code> 删除指定的子节点并返回</li> <li><code>replaceChild()</code> 用于使用一个节点替换另一个节点</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>parent<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// parent 表示父节点，child 表示需要添加的节点</span>
parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>newNode<span class="token punctuation">,</span>refNode<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// newNode 表示要添加的节点，refNode 表示参照节点</span>
parent<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// node 表示需要删除的节点</span>
parent<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>newChild<span class="token punctuation">,</span>oldChild<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// newChild 是替换的节点，oldChild 是被替换的节点</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>注意：appendChild() 方法如果被添加的节点是一个页面中存在的节点，则执行后这个节点将会添加到指定位置，其原本所在的位置将移除该节点，也就是说不会同时存在两个该节点在页面上，相当于把这个节点移动到另一个地方。如果 child 绑定了事件，被移动时，它依然绑定着该事件。</p></blockquote> <p>（4）其他方法</p> <ul><li><code>cloneNode()</code> 返回与调用它的节点一模一样的节点</li> <li><code>normalize()</code> 这个方法唯一的任务就是处理文档子树中的文本节点</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 接收一个布尔值参数，表示是否深复制。</span>
<span class="token comment">// 在传入 true 参数时，会进行深复制，即复制节点及其整个子 DOM 树。</span>
<span class="token comment">// 如果传入 false，则只会复制调用该方法的节点。</span>
<span class="token keyword">let</span> deepList <span class="token operator">=</span> myList<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>cloneNode() 方法不会复制添加到 DOM 节点的 JavaScript 属性，比如事件处理程序。这个方法只复制 HTML 属性，以及可选地复制子节点。除此之外则一概不会复制。在 IE 下可能出现意外。所以推荐在复制前先删除事件处理程序。</p></blockquote> <h3 id="_1-2-document-类型"><a href="#_1-2-document-类型" class="header-anchor">#</a> 1.2 Document 类型</h3> <p>Document 类型是 JavaScript 中表示文档节点的类型。在浏览器中，文档对象 document 是 HTMLDocument 的实例（HTMLDocument 继承 Document），表示整个 HTML 页面。document 是 window 对象的属性，因此是一个全局对象。</p> <ul><li>nodeType 等于 9；</li> <li>nodeName 值为&quot;#document&quot;；</li> <li>nodeValue 值为 null；</li> <li>parentNode 值为 null；</li> <li>ownerDocument 值为 null；</li> <li>子节点可以是 DocumentType（最多一个）、Element（最多一个）、ProcessingInstruction 或 Comment 类型。</li></ul> <p>（1）文档子节点</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> html <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span> <span class="token comment">// 取得对&lt;html&gt;的引用</span>
<span class="token keyword">let</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">;</span> <span class="token comment">// 取得对&lt;body&gt;的引用</span>
<span class="token keyword">let</span> doctype <span class="token operator">=</span> document<span class="token punctuation">.</span>doctype<span class="token punctuation">;</span> <span class="token comment">// 取得对&lt;!doctype&gt;的引用</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>（2）文档信息</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 读取文档标题</span>
<span class="token keyword">let</span> originalTitle <span class="token operator">=</span> document<span class="token punctuation">.</span>title<span class="token punctuation">;</span>
<span class="token comment">// 修改文档标题</span>
document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">&quot;New page title&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 取得完整的 URL </span>
<span class="token keyword">let</span> url <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">;</span>
<span class="token comment">// 取得域名</span>
<span class="token keyword">let</span> domain <span class="token operator">=</span> document<span class="token punctuation">.</span>domain<span class="token punctuation">;</span> 
<span class="token comment">// 取得来源</span>
<span class="token keyword">let</span> referrer <span class="token operator">=</span> document<span class="token punctuation">.</span>referrer<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>（3）定位元素</p> <ul><li><code>getElementById()</code> 根据元素ID查找元素，如果没找到则返回 null</li> <li><code>getElementsByTagName()</code> 根据元素的标签名来查找元素，返回包含零个或多个元素的 NodeList。</li> <li><code>getElementsByName()</code> 这个方法会返回具有给定 name 属性的所有元素</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myDiv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 取得对这个&lt;div&gt;元素的引用</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>（4）文档写入</p> <ul><li><code>write()</code> 接收一个字符串参数，可以将这个字符串写入网页中</li> <li><code>writeln()</code> 接收一个字符串参数，可以将这个字符串写入网页中，并且末尾追加一个换行符（\n）</li> <li><code>open()</code> 用于打开网页输出流</li> <li><code>close()</code> 用于关闭网页输出流</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>严格的 XHTML 文档不支持文档写入。对于内容类型为 application/xml+xhtml 的页面，这些方法不起作用。</p></blockquote> <h3 id="_1-3-element-类型"><a href="#_1-3-element-类型" class="header-anchor">#</a> 1.3 Element 类型</h3> <p>Element 表示 XML 或 HTML 元素，对外暴露出访问元素标签名、子节点和属性的能力。</p> <ul><li>nodeType 等于 1；</li> <li>nodeName 值为元素的标签名；</li> <li>nodeValue 值为 null；</li> <li>parentNode 值为 Document 或 Element 对象；</li> <li>子节点可以是 Element、Text、Comment、ProcessingInstruction、CDATASection、EntityReference 类型。</li></ul> <p>可以通过 nodeName 或 tagName 属性来获取元素的标签名。</p> <p>（1）HTML 元素</p> <p>标准属性：</p> <ul><li>id，元素在文档中的唯一标识符；</li> <li>title，包含元素的额外信息，通常以提示条形式展示；</li> <li>lang，元素内容的语言代码（很少用）；</li> <li>dir，语言的书写方向（&quot;ltr&quot;表示从左到右，&quot;rtl&quot;表示从右到左，同样很少用）；</li> <li>className，相当于 class 属性，用于指定元素的 CSS 类（因为 class 是 ECMAScript 关键字，所以不能直接用这个名字）。</li></ul> <p>如前所述，所有 HTML 元素都是 HTMLElement 或其子类型的实例。详见<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element" target="_blank" rel="noopener noreferrer">所有 HTML 元素<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>（2）属性操作</p> <ul><li><code>getAttribute()</code> 获取属性</li> <li><code>setAttribute()</code> 设置属性</li> <li><code>removeAttribute()</code> 删除属性</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myDiv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>（3）attributes 属性</p> <p>attributes 属性包含一个 NamedNodeMap 实例，是一个类似 NodeList 的“实时”集合。</p> <ul><li><code>getNamedItem(name)</code>，返回 nodeName 属性等于 name 的节点；</li> <li><code>removeNamedItem(name)</code>，删除 nodeName 属性等于 name 的节点；</li> <li><code>setNamedItem(node)</code>，向列表中添加 node 节点，以其 nodeName 为索引；</li> <li><code>item(pos)</code>，返回索引位置 pos 处的节点。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> id <span class="token operator">=</span> element<span class="token punctuation">.</span>attributes<span class="token punctuation">.</span><span class="token function">getNamedItem</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>nodeValue<span class="token punctuation">;</span>
<span class="token comment">// 简写的方式</span>
<span class="token keyword">let</span> id <span class="token operator">=</span> element<span class="token punctuation">.</span>attributes<span class="token punctuation">[</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>nodeValue<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>（4）创建元素</p> <p>可以使用 document.createElement() 方法创建新元素。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置属性</span>
div<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">&quot;myNewDiv&quot;</span><span class="token punctuation">;</span> 
div<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&quot;box&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_1-4-text-类型"><a href="#_1-4-text-类型" class="header-anchor">#</a> 1.4 Text 类型</h3> <p>Text 节点由 Text 类型表示，包含按字面解释的纯文本，也可能包含转义后的 HTML 字符，但不含 HTML 代码。</p> <ul><li>nodeType 等于 3；</li> <li>nodeName 值为&quot;#text&quot;；</li> <li>nodeValue 值为节点中包含的文本；</li> <li>parentNode 值为 Element 对象；</li> <li>不支持子节点。</li></ul> <p>Text 节点中包含的文本可以通过 nodeValue 属性访问，也可以通过 data 属性访问，这两个属性包含相同的值。修改 nodeValue 或 data 的值，也会在另一个属性反映出来。</p> <p>操作文本的方法：</p> <ul><li><code>appendData(text)</code>，向节点末尾添加文本 text；</li> <li><code>deleteData(offset, count)</code>，从位置 offset 开始删除 count 个字符；</li> <li><code>insertData(offset, text)</code>，在位置 offset 插入 text；</li> <li><code>replaceData(offset, count, text)</code>，用 text 替换从位置 offset 到 offset + count 的文本；</li> <li><code>splitText(offset)</code>，在位置 offset 将当前文本节点拆分为两个文本节点；</li> <li><code>substringData(offset, count)</code>，提取从位置 offset 到 offset + count 的文本。</li></ul> <p>文本节点方法：</p> <ul><li><code>createTextNode()</code> 可以用来创建新文本节点，它接收一个参数，即要插入节点的文本。</li> <li><code>normalize()</code> 在包含两个或多个相邻文本节点的父节点上调用 normalize()时，所有同胞文本节点会被合并为一个文本节点</li> <li><code>splitText()</code> 在指定的偏移位置拆分 nodeValue，将一个文本节点拆分成两个文本节点。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
element<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&quot;message&quot;</span><span class="token punctuation">;</span> 

<span class="token keyword">let</span> textNode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">&quot;Hello world!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建文本节点</span>
element<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>textNode<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> anotherTextNode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">&quot;Yippee!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
element<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>anotherTextNode<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span>childNodes<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2 </span>
element<span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 合并</span>
<span class="token function">alert</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span>childNodes<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 </span>
<span class="token function">alert</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span>firstChild<span class="token punctuation">.</span>nodeValue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Hello world!Yippee!&quot; </span>

<span class="token keyword">let</span> newNode <span class="token operator">=</span> element<span class="token punctuation">.</span>firstChild<span class="token punctuation">.</span><span class="token function">splitText</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 拆分</span>
<span class="token function">alert</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span>firstChild<span class="token punctuation">.</span>nodeValue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Hello&quot; </span>
<span class="token function">alert</span><span class="token punctuation">(</span>newNode<span class="token punctuation">.</span>nodeValue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot; world!Yippee!&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="_1-5-comment-类型"><a href="#_1-5-comment-类型" class="header-anchor">#</a> 1.5 Comment 类型</h3> <p>DOM 中的注释通过 Comment 类型表示。Comment 类型的节点具有以下特征：</p> <ul><li>nodeType 等于 8；</li> <li>nodeName 值为&quot;#comment&quot;；</li> <li>nodeValue 值为注释的内容；</li> <li>parentNode 值为 Document 或 Element 对象；</li> <li>不支持子节点。</li></ul> <p>Comment 类型与 Text 类型继承同一个基类（CharacterData），因此拥有除 splitText() 之外 Text 节点所有的字符串操作方法。</p> <p>注释的实际内容可以通过 nodeValue 或 data 属性获得。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myDiv<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- A comment --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myDiv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token keyword">let</span> comment <span class="token operator">=</span> div<span class="token punctuation">.</span>firstChild<span class="token punctuation">;</span> 
  <span class="token function">alert</span><span class="token punctuation">(</span>comment<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;A comment&quot;</span>

  <span class="token comment">// 使用 createComment() 创建注释节点</span>
  <span class="token keyword">let</span> comment <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createComment</span><span class="token punctuation">(</span><span class="token string">&quot;A comment&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_1-6-cdatasection-类型"><a href="#_1-6-cdatasection-类型" class="header-anchor">#</a> 1.6 CDATASection 类型</h3> <p>CDATASection 类型表示 XML 中特有的 CDATA 区块。CDATASection 类型继承 Text 类型，因此拥有包括 splitText() 在内的所有字符串操作方法。</p> <ul><li>nodeType 等于 4；</li> <li>nodeName 值为&quot;#cdata-section&quot;；</li> <li>nodeValue 值为 CDATA 区块的内容；</li> <li>parentNode 值为 Document 或 Element 对象；</li> <li>不支持子节点。</li></ul> <p>CDATA 区块只在 XML 文档中有效，因此某些浏览器比较陈旧的版本会错误地将 CDATA 区块解析为 Comment 或 Element。</p> <p>在真正的 XML 文档中，可以使用 document.createCDataSection() 并传入节点内容来创建 CDATA 区块。</p> <p>###　1.7 DocumentType 类型</p> <p>DocumentType 类型的节点包含文档的文档类型（doctype）信息，具有以下特征：</p> <ul><li>nodeType 等于 10；</li> <li>nodeName 值为文档类型的名称；</li> <li>nodeValue 值为 null；</li> <li>parentNode 值为 Document 对象；</li> <li>不支持子节点。</li></ul> <p>DocumentType 对象在 DOM Level 1 中不支持动态创建，只能在解析文档代码时创建。</p> <p>DocumentType 对象的 3 个属性：</p> <ul><li><code>name</code> 文档类型的名称</li> <li><code>entities</code> 文档类型描述的实体的 NamedNodeMap</li> <li><code>notations</code> 文档类型描述的表示法的 NamedNodeMap</li></ul> <p>因为浏览器中的文档通常是 HTML 或 XHTML 文档类型，所以 entities 和 notations 列表为空。</p> <p>无论如何，只有 name 属性是有用的。这个属性包含文档类型的名称，即紧跟在<code>&lt;!DOCTYPE</code> 后面的那串文本。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">HTML</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-// W3C// DTD HTML 4.01// EN&quot;</span> 
 <span class="token string">&quot;http:// www.w3.org/TR/html4/strict.dtd&quot;</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token function">alert</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>doctype<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;html&quot; </span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_1-8-documentfragment-类型"><a href="#_1-8-documentfragment-类型" class="header-anchor">#</a> 1.8 DocumentFragment 类型</h3> <p>在所有节点类型中，DocumentFragment 类型是唯一一个在标记中没有对应表示的类型。DOM 将文档片段定义为“轻量级”文档，能够包含和操作节点，却没有完整文档那样额外的消耗。</p> <ul><li>nodeType 等于 11；</li> <li>nodeName 值为&quot;#document-fragment&quot;；</li> <li>nodeValue 值为 null；</li> <li>parentNode 值为 null；</li> <li>子节点可以是 Element、ProcessingInstruction、Comment、Text、CDATASection 或 EntityReference。</li></ul> <p>不能直接把文档片段添加到文档。相反，文档片段的作用是充当其他要被添加到文档的节点的仓库。可以使用 document.createDocumentFragment() 方法像下面这样创建文档片段：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> fragment <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myList&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  <span class="token keyword">let</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  li<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Item </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  fragment<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
ul<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_1-9-attr-类型"><a href="#_1-9-attr-类型" class="header-anchor">#</a> 1.9 Attr 类型</h3> <p>元素数据在 DOM 中通过 Attr 类型表示。Attr 类型构造函数和原型在所有浏览器中都可以直接访问。技术上讲，属性是存在于元素 attributes 属性中的节点。Attr 节点具有以下特征：</p> <ul><li>nodeType 等于 2；</li> <li>nodeName 值为属性名；</li> <li>nodeValue 值为属性值；</li> <li>parentNode 值为 null；</li> <li>在 HTML 中不支持子节点；</li> <li>在 XML 中子节点可以是 Text 或 EntityReference。</li></ul> <p>属性节点尽管是节点，却不被认为是 DOM 文档树的一部分。Attr 节点很少直接被引用，通常开发者更喜欢使用 getAttribute()、removeAttribute() 和 setAttribute() 方法操作属性。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> attr <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;align&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
attr<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&quot;left&quot;</span><span class="token punctuation">;</span> 
element<span class="token punctuation">.</span><span class="token function">setAttributeNode</span><span class="token punctuation">(</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_2、dom-编程"><a href="#_2、dom-编程" class="header-anchor">#</a> 2、DOM 编程</h2> <h3 id="_2-1-动态脚本"><a href="#_2-1-动态脚本" class="header-anchor">#</a> 2.1 动态脚本</h3> <p>两种方式通过<code>&lt;script&gt;</code>动态为网页添加脚本：引入外部文件和直接插入源代码。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>foo.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>或者：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
script<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;foo.js&quot;</span><span class="token punctuation">;</span> 
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_2-2-动态样式"><a href="#_2-2-动态样式" class="header-anchor">#</a> 2.2 动态样式</h3> <p>CSS 样式在 HTML 页面中可以通过两个元素加载。<code>&lt;link&gt;</code> 元素用于包含 CSS 外部文件，而<code>&lt;style&gt;</code> 元素用于添加嵌入样式。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>styles.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 或者 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css"> 
<span class="token selector">body</span> <span class="token punctuation">{</span> 
 <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>使用js创建：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> link <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;link&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
link<span class="token punctuation">.</span>rel <span class="token operator">=</span> <span class="token string">&quot;stylesheet&quot;</span><span class="token punctuation">;</span> 
link<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&quot;text/css&quot;</span><span class="token punctuation">;</span> 
link<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">&quot;styles.css&quot;</span><span class="token punctuation">;</span> 
<span class="token keyword">let</span> head <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;head&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>对于 IE，要小心使用 styleSheet.cssText。如果重用同一个 <code>&lt;style&gt;</code> 元素并设置该属性超过一次，则可能导致浏览器崩溃。同样，将 cssText 设置为空字符串也可能导致浏览器崩溃。</p></blockquote> <h3 id="_2-3-操作表格"><a href="#_2-3-操作表格" class="header-anchor">#</a> 2.3 操作表格</h3> <p>表格是 HTML 中最复杂的结构之一。通过 DOM 编程创建<code>&lt;table&gt;</code>元素，通常要涉及大量标签，包括表行、表元、表题，等等。因此，通过 DOM 编程创建和修改表格时可能要写很多代码。</p> <p><code>&lt;table&gt;</code>元素添加了以下属性和方法：</p> <ul><li><code>caption</code>，指向<code>&lt;caption&gt;</code>元素的指针（如果存在）；</li> <li><code>tBodies</code>，包含<code>&lt;tbody&gt;</code>元素的 HTMLCollection；</li> <li><code>tFoot</code>，指向<code>&lt;tfoot&gt;</code>元素（如果存在）；</li> <li><code>tHead</code>，指向<code>&lt;thead&gt;</code>元素（如果存在）；</li> <li><code>rows</code>，包含表示所有行的 HTMLCollection；</li> <li><code>createTHead()</code>，创建<code>&lt;thead&gt;</code>元素，放到表格中，返回引用；</li> <li><code>createTFoot()</code>，创建<code>&lt;tfoot&gt;</code>元素，放到表格中，返回引用；</li> <li><code>createCaption()</code>，创建<code>&lt;caption&gt;</code>元素，放到表格中，返回引用；</li> <li><code>deleteTHead()</code>，删除<code>&lt;thead&gt;</code>元素；</li> <li><code>deleteTFoot()</code>，删除<code>&lt;tfoot&gt;</code>元素；</li> <li><code>deleteCaption()</code>，删除<code>&lt;caption&gt;</code>元素；</li> <li><code>deleteRow(pos)</code>，删除给定位置的行；</li> <li><code>insertRow(pos)</code>，在行集合中给定位置插入一行。</li></ul> <p><code>&lt;tbody&gt;</code>元素添加了以下属性和方法：</p> <ul><li><code>rows</code>，包含<code>&lt;tbody&gt;</code>元素中所有行的 HTMLCollection；</li> <li><code>deleteRow(pos)</code>，删除给定位置的行；</li> <li><code>insertRow(pos)</code>，在行集合中给定位置插入一行，返回该行的引用。</li></ul> <p><code>&lt;tr&gt;</code>元素添加了以下属性和方法：</p> <ul><li><code>cells</code>，包含<code>&lt;tr&gt;</code>元素所有表元的 HTMLCollection；</li> <li><code>deleteCell(pos)</code>，删除给定位置的表元；</li> <li><code>insertCell(pos)</code>，在表元集合给定位置插入一个表元，返回该表元的引用。</li></ul> <h3 id="_2-4-使用-nodelist"><a href="#_2-4-使用-nodelist" class="header-anchor">#</a> 2.4 使用 NodeList</h3> <p>一般来说，最好限制操作 NodeList 的次数。因为每次查询都会搜索整个文档，所以最好把查询到
的 NodeList 缓存起来。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> divs <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> divs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  <span class="token keyword">let</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_3、mutationobserver-接口"><a href="#_3、mutationobserver-接口" class="header-anchor">#</a> 3、MutationObserver 接口</h2> <p>MutationObserver 接口可以在 DOM 被修改时异步执行回调。</p> <p>使用 MutationObserver 可以观察整个文档、DOM 树的一部分，或某个元素。此外还可以观察元素属性、子节点、文本，或者前三者任意组合的变化。</p> <blockquote><p>新引进 MutationObserver 接口是为了取代废弃的 MutationEvent。</p></blockquote> <p>MutationObserver 的实例要通过调用 MutationObserver 构造函数并传入一个回调函数来创建：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'DOM was mutated!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>（1）observe() 方法</p> <p>新创建的 MutationObserver 实例不会关联 DOM 的任何部分。要把这个 observer 与 DOM 关联起来，需要使用 observe() 方法。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'&lt;body&gt; attributes changed'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">attributes</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'foo'</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Changed body class'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// Changed body class </span>
<span class="token comment">// &lt;body&gt; attributes changed</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>执行以上代码后，<code>&lt;body&gt;</code>元素上任何属性发生变化都会被这个 MutationObserver 实例发现，然后就会异步执行注册的回调函数。<code>&lt;body&gt;</code>元素后代的修改或其他非属性修改都不会触发回调进入任务队列。</p> <p>注意，回调中的 console.log()是后执行的。这表明回调并非与实际的 DOM 变化同步执行。</p> <p>（2）回调与 MutationRecord</p> <p>每个回调都会收到一个 MutationRecord 实例的数组。MutationRecord 实例包含的信息包括发生了什么变化，以及 DOM 的哪一部分受到了影响。</p> <p>（3）disconnect() 方法</p> <p>默认情况下，只要被观察的元素不被垃圾回收，MutationObserver 的回调就会响应 DOM 变化事件，从而被执行。要提前终止执行回调，可以调用 disconnect() 方法。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">3/9/2022, 6:56:39 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/web/javascript/7-js代理与反射.html" class="prev">
        7-js代理与反射
      </a></span> <span class="next"><a href="/blog/web/javascript/8.2-DOM扩展.html">
        8.2-DOM扩展
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><div></div></div></div>
    <script src="/blog/assets/js/app.acffc015.js" defer></script><script src="/blog/assets/js/2.ce51b73f.js" defer></script><script src="/blog/assets/js/210.9361914f.js" defer></script>
  </body>
</html>
