(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{328:function(s,a,t){"use strict";t.r(a);var n=t(10),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"搭建开发环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#搭建开发环境"}},[s._v("#")]),s._v(" 搭建开发环境")]),s._v(" "),a("h2",{attrs:{id:"_1、安装golang"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、安装golang"}},[s._v("#")]),s._v(" 1、安装golang")]),s._v(" "),a("p",[a("code",[s._v("https://go.dev/")])]),s._v(" "),a("h2",{attrs:{id:"_2、配置gopath"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、配置gopath"}},[s._v("#")]),s._v(" 2、配置GOPATH")]),s._v(" "),a("p",[a("code",[s._v("GOPATH")]),s._v(" 是一个环境变量，用来表明你写的 go 项目的存放路径")]),s._v(" "),a("p",[s._v("在系统变量里面添加 "),a("code",[s._v("GOPATH")]),s._v("，值设置为 "),a("code",[s._v("C:\\project\\go")]),s._v("，这个是工作目录")]),s._v(" "),a("blockquote",[a("p",[s._v("windows msi 会自动创建 "),a("code",[s._v("GOPATH")]),s._v(" 环境变量为用户变量，需要修改或者删除，改成系统变量")])]),s._v(" "),a("p",[s._v("在系统变量 "),a("code",[s._v("Path")]),s._v(" 添加下面两项")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("C:\\soft\\go\\bin # go 软件目录\nC:\\project\\go # 你的工作目录\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("配置好后，测试是否安装成功")]),s._v(" "),a("p",[a("code",[s._v("go version")])]),s._v(" "),a("h2",{attrs:{id:"_3、配置工作目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、配置工作目录"}},[s._v("#")]),s._v(" 3、配置工作目录")]),s._v(" "),a("p",[s._v("在 "),a("code",[s._v("C:\\project\\go")]),s._v(" 工作目录创建三个文件夹："),a("code",[s._v("bin")]),s._v("、"),a("code",[s._v("pkg")]),s._v("、"),a("code",[s._v("src")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("bin")]),s._v(" 用来存放编译后生成的可执行文件")]),s._v(" "),a("li",[a("code",[s._v("pkg")]),s._v(" 用来存放编译后生成的归档文件")]),s._v(" "),a("li",[a("code",[s._v("src")]),s._v(" 用来存放源码文件，项目列表如下\n"),a("ul",[a("li",[a("code",[s._v("project1")]),s._v(" 项目1")]),s._v(" "),a("li",[a("code",[s._v("project2")]),s._v(" 项目2")])])])]),s._v(" "),a("h2",{attrs:{id:"_4、配置-vscode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、配置-vscode"}},[s._v("#")]),s._v(" 4、配置 vscode")]),s._v(" "),a("h3",{attrs:{id:"_4-1-安装-go-插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-安装-go-插件"}},[s._v("#")]),s._v(" 4.1 安装 go 插件")]),s._v(" "),a("p",[s._v("在插件中搜索 "),a("code",[s._v("go")])]),s._v(" "),a("p",[a("code",[s._v("Rich Go language support for Visual Studio Code")])]),s._v(" "),a("p",[s._v("点击安装即可")]),s._v(" "),a("h3",{attrs:{id:"_4-2-安装go语言开发工具包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-安装go语言开发工具包"}},[s._v("#")]),s._v(" 4.2 安装go语言开发工具包")]),s._v(" "),a("p",[s._v("在Go语言开发的时候为我们提供诸如代码提示、代码自动补全等功能。")]),s._v(" "),a("p",[s._v("Windows平台按下 "),a("code",[s._v("Ctrl+Shift+P")]),s._v("，在弹出的输入框中输入>"),a("code",[s._v("go:install")]),s._v("，选择 "),a("code",[s._v("Go:Install/Update Tools")]),s._v(" 这个命令")]),s._v(" "),a("p",[s._v("此时会出现数个工具需要手动勾选，或者全部勾选，点击确定后会自动安装，网络环境基本上都会出现安装失败")]),s._v(" "),a("p",[s._v("解决办法：")]),s._v(" "),a("p",[s._v("设置 go proxy，然后去安装vscode插件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("go env # 查看go环境变量\n\n# 七牛云代理 goproxy.cn/\ngo env -w GO111MODULE=on\ngo env -w GOPROXY=https://goproxy.cn,https://goproxy.io,direct\n\ngo clean --modcache # 清空缓存\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("然后重新打开vscode，"),a("code",[s._v("Ctrl+Shift+P")]),s._v(" -> "),a("code",[s._v("go:install")]),s._v(" -> "),a("code",[s._v("Go:Install/Update Tools")])]),s._v(" "),a("h2",{attrs:{id:"_5、编写-hello-world-程序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、编写-hello-world-程序"}},[s._v("#")]),s._v(" 5、编写 Hello World 程序")]),s._v(" "),a("p",[s._v("在 "),a("code",[s._v("src")]),s._v(" 下创建 "),a("code",[s._v("test")]),s._v(" 目录")]),s._v(" "),a("p",[s._v("创建 "),a("code",[s._v("hello.go")]),s._v(" 文件")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" main\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fmt"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    fmt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello World!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("运行程序："),a("code",[s._v("go run ./hello.go")])]),s._v(" "),a("h2",{attrs:{id:"_6、编译程序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、编译程序"}},[s._v("#")]),s._v(" 6、编译程序")]),s._v(" "),a("p",[s._v("在编译之前需要启用依赖项跟踪 "),a("code",[s._v("go mod init example/hello")])]),s._v(" "),a("h3",{attrs:{id:"_6-1-默认编译"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-默认编译"}},[s._v("#")]),s._v(" 6.1 默认编译")]),s._v(" "),a("p",[a("code",[s._v("go build .")])]),s._v(" "),a("h3",{attrs:{id:"_6-2-编译多个平台"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-编译多个平台"}},[s._v("#")]),s._v(" 6.2 编译多个平台")]),s._v(" "),a("p",[s._v("创建 "),a("code",[s._v("dist")]),s._v(" 打包后的目录")]),s._v(" "),a("p",[s._v("创建 "),a("code",[s._v("build.bat")]),s._v(" 批处理文件")]),s._v(" "),a("div",{staticClass:"language-bat line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("SET CGO_ENABLED=0\nSET GOOS=linux\nSET GOARCH=arm64\n\nSET GOFILENAME=hello\n\ngo build -o ./dist/%GOFILENAME%_%GOOS%_%GOARCH%\n\nSET GOARCH=amd64\n\ngo build -o ./dist/%GOFILENAME%_%GOOS%_%GOARCH%\n\nSET GOOS=windows\n\ngo build -o ./dist/%GOFILENAME%_%GOOS%_%GOARCH%.exe\n\nSET GOOS=darwin\n\ngo build -o ./dist/%GOFILENAME%_%GOOS%_%GOARCH%\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("p",[s._v("参数说明：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("CGO_ENABLED")]),s._v(" CGO 表示golang中的工具，CGO_ENABLED 表示CGO禁用，交叉编译中不能使用CGO的")]),s._v(" "),a("li",[a("code",[s._v("GOOS")]),s._v(" 目标平台\n"),a("ul",[a("li",[s._v("mac 对应 darwin")]),s._v(" "),a("li",[s._v("linux 对应 linux")]),s._v(" "),a("li",[s._v("windows 对应 windows")])])]),s._v(" "),a("li",[a("code",[s._v("GOARCH")]),s._v(" 目标平台的体系架构 386，amd64,arm\n"),a("ul",[a("li",[s._v("386 也称 x86 对应 32位操作系统")]),s._v(" "),a("li",[s._v("amd64 也称 x64 对应 64位操作系统")]),s._v(" "),a("li",[s._v("arm 这种架构一般用于嵌入式开发。 比如 Android ， IOS ， Win mobile , TIZEN 等")])])])])])}),[],!1,null,null,null);a.default=e.exports}}]);