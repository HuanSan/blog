(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{373:function(t,_,r){"use strict";r.r(_);var d=r(10),e=Object(d.a)({},(function(){var t=this,_=t._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"nginx-内置全局变量"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#nginx-内置全局变量"}},[t._v("#")]),t._v(" nginx 内置全局变量")]),t._v(" "),_("p",[t._v("内置变量存放在 "),_("code",[t._v("ngx_http_core_module")]),t._v(" 模块中，变量的命名方式和 apache 服务器变量是一致的。")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("变量")]),_("th",[t._v("解释")])])]),_("tbody",[_("tr",[_("td",[t._v("$arg_name")]),_("td",[t._v("请求中的的参数名，即“?”后面的arg_name=arg_value形式的arg_name")])]),_("tr",[_("td",[t._v("$args")]),_("td",[t._v("与$query_string相同 等于当中URL的参数(GET)，如a=1&b=2")])]),_("tr",[_("td",[t._v("$document_uri")]),_("td",[t._v("与$uri相同 这个变量指当前的请求URI，不包括任何参数(见$args)")])]),_("tr",[_("td",[t._v("$request_uri")]),_("td",[t._v("包含请求参数的原始URI，不包含主机名，如：/2013/81.html?a=1&b=2")])]),_("tr",[_("td",[t._v("$is_args")]),_("td",[t._v('如果有$args参数，这个变量等于”?”，否则等于”"，空值，如?')])]),_("tr",[_("td",[t._v("$query_string")]),_("td",[t._v("与$args相同 等于当中URL的参数(GET)，如a=1&b=2")])]),_("tr",[_("td",[t._v("$uri")]),_("td",[t._v("这个变量指当前的请求URI，不包括任何参数(见$args) 如:/2013/81.html")])]),_("tr",[_("td",[t._v("$remote_addr")]),_("td",[t._v("获取客户端ip")])]),_("tr",[_("td",[t._v("$binary_remote_addr")]),_("td",[t._v("客户端ip（二进制)")])]),_("tr",[_("td",[t._v("$remote_port")]),_("td",[t._v("客户端port，如：50472")])]),_("tr",[_("td",[t._v("$remote_user")]),_("td",[t._v("已经经过Auth Basic Module验证的用户名")])]),_("tr",[_("td",[t._v("$host")]),_("td",[t._v("请求主机头字段，否则为服务器名称，如:blog.sakmon.com")])]),_("tr",[_("td",[t._v("$request")]),_("td",[t._v("用户请求信息，如：GET ?a=1&b=2 HTTP/1.1")])]),_("tr",[_("td",[t._v("$request_method")]),_("td",[t._v("客户端请求的动作，通常为GET或POST,如：GET")])]),_("tr",[_("td",[t._v("$request_filename")]),_("td",[t._v("当前请求的文件的路径名，由root或alias和URI request组合而成,如：/2013/81.html")])]),_("tr",[_("td",[t._v("$status")]),_("td",[t._v("请求的响应状态码,如:200")])]),_("tr",[_("td",[t._v("$body_bytes_sent")]),_("td",[t._v("响应时送出的body字节数数量。即使连接中断，这个数据也是精确的,如：40，传输给客户端的字节数，响应头不计算在内；这个变量和Apache的mod_log_config模块中的“%B”参数保持兼容")])]),_("tr",[_("td",[t._v("$content_length")]),_("td",[t._v("等于请求行的“Content_Length”的值")])]),_("tr",[_("td",[t._v("$content_type")]),_("td",[t._v("等于请求行的“Content_Type”的值")])]),_("tr",[_("td",[t._v("$http_referer")]),_("td",[t._v("引用地址")])]),_("tr",[_("td",[t._v("$http_user_agent")]),_("td",[t._v("客户端agent信息,如：Mozilla/5.0 (Windows NT5.1) AppleWebKit/537.36(KHTML, like Gecko) Chrome/29.0.1547.76 Safari/537.36；这个可以用来区分手机端还是pc端")])]),_("tr",[_("td",[t._v("$document_root")]),_("td",[t._v("针对当前请求的根路径设置值")])]),_("tr",[_("td",[t._v("$hostname")]),_("td",[t._v("如：centos53.localdomain")])]),_("tr",[_("td",[t._v("$http_cookie")]),_("td",[t._v("客户端cookie信息")])]),_("tr",[_("td",[t._v("$cookie_COOKIE")]),_("td",[t._v("cookie COOKIE变量的值")])]),_("tr",[_("td",[t._v("$limit_rate")]),_("td",[t._v("这个变量可以限制连接速率，0表示不限速")])]),_("tr",[_("td",[t._v("$request_body")]),_("td",[t._v("记录POST过来的数据信息")])]),_("tr",[_("td",[t._v("$request_body_file")]),_("td",[t._v("客户端请求主体信息的临时文件名")])]),_("tr",[_("td",[t._v("$scheme")]),_("td",[t._v("HTTP方法（如http，https）,如：http")])]),_("tr",[_("td",[t._v("$request_completion")]),_("td",[t._v("如果请求结束，设置为OK. 当请求未结束或如果该请求不是请求链串的最后一个时，为空(Empty)，如：OK")])]),_("tr",[_("td",[t._v("$server_protocol")]),_("td",[t._v("请求使用的协议，通常是HTTP/1.0或HTTP/1.1，如：HTTP/1.1")])]),_("tr",[_("td",[t._v("$server_addr")]),_("td",[t._v("服务器IP地址，在完成一次系统调用后可以确定这个值")])]),_("tr",[_("td",[t._v("$server_name")]),_("td",[t._v("服务器名称，如：blog.sakmon.com")])]),_("tr",[_("td",[t._v("$server_port")]),_("td",[t._v("请求到达服务器的端口号,如：80")])]),_("tr",[_("td",[t._v("$connection")]),_("td",[t._v("CP连接的序列号 (1.3.8, 1.2.5)")])]),_("tr",[_("td",[t._v("$connection_requests")]),_("td",[t._v("CP连接当前的请求数量 (1.3.8, 1.2.5)")])]),_("tr",[_("td",[t._v("$nginx_version")]),_("td",[t._v("nginx版本")])]),_("tr",[_("td",[t._v("$pid")]),_("td",[t._v("工作进程的PID")])]),_("tr",[_("td",[t._v("$pipe")]),_("td",[t._v("如果请求来自管道通信，值为“p”，否则为“.” (1.3.12, 1.2.7)")])]),_("tr",[_("td",[t._v("$proxy_protocol_addr")]),_("td",[t._v("获取代理访问服务器的客户端地址，如果是直接访问，该值为空字符串。(1.5.12)")])]),_("tr",[_("td",[t._v("$realpath_root")]),_("td",[t._v("当前请求的文档根目录或别名的真实路径，会将所有符号连接转换为真实路径。")])])])])])}),[],!1,null,null,null);_.default=e.exports}}]);