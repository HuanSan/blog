# nginx 内置全局变量

内置变量存放在 `ngx_http_core_module` 模块中，变量的命名方式和 apache 服务器变量是一致的。

<table><thead><tr><th>变量</th><th>解释</th></tr></thead><tbody><tr><td>$arg_name</td><td>请求中的的参数名，即“?”后面的arg_name=arg_value形式的arg_name</td></tr><tr><td>$args</td><td>与$query_string相同 等于当中URL的参数(GET)，如a=1&amp;b=2</td></tr><tr><td>$document_uri</td><td>与$uri相同 这个变量指当前的请求URI，不包括任何参数(见$args)</td></tr><tr><td>$request_uri</td><td>包含请求参数的原始URI，不包含主机名，如：/2013/81.html?a=1&amp;b=2</td></tr><tr><td>$is_args</td><td>如果有$args参数，这个变量等于”?”，否则等于”"，空值，如?</td></tr><tr><td>$query_string</td><td>与$args相同 等于当中URL的参数(GET)，如a=1&amp;b=2</td></tr><tr><td>$uri</td><td>这个变量指当前的请求URI，不包括任何参数(见$args) 如:/2013/81.html</td></tr><tr><td>$remote_addr</td><td>获取客户端ip</td></tr><tr><td>$binary_remote_addr</td><td>客户端ip（二进制)</td></tr><tr><td>$remote_port</td><td>客户端port，如：50472</td></tr><tr><td>$remote_user</td><td>已经经过Auth Basic Module验证的用户名</td></tr><tr><td>$host</td><td>请求主机头字段，否则为服务器名称，如:blog.sakmon.com</td></tr><tr><td>$request</td><td>用户请求信息，如：GET ?a=1&amp;b=2 HTTP/1.1</td></tr><tr><td>$request_method</td><td>客户端请求的动作，通常为GET或POST,如：GET</td></tr><tr><td>$request_filename</td><td>当前请求的文件的路径名，由root或alias和URI request组合而成,如：/2013/81.html</td></tr><tr><td>$status</td><td>请求的响应状态码,如:200</td></tr><tr><td>$body_bytes_sent</td><td>响应时送出的body字节数数量。即使连接中断，这个数据也是精确的,如：40，传输给客户端的字节数，响应头不计算在内；这个变量和Apache的mod_log_config模块中的“%B”参数保持兼容</td></tr><tr><td>$content_length</td><td>等于请求行的“Content_Length”的值</td></tr><tr><td>$content_type</td><td>等于请求行的“Content_Type”的值</td></tr><tr><td>$http_referer</td><td>引用地址</td></tr><tr><td>$http_user_agent</td><td>客户端agent信息,如：Mozilla/5.0 (Windows NT5.1) AppleWebKit/537.36(KHTML, like Gecko) Chrome/29.0.1547.76 Safari/537.36；这个可以用来区分手机端还是pc端</td></tr><tr><td>$document_root</td><td>针对当前请求的根路径设置值</td></tr><tr><td>$hostname</td><td>如：centos53.localdomain</td></tr><tr><td>$http_cookie</td><td>客户端cookie信息</td></tr><tr><td>$cookie_COOKIE</td><td>cookie COOKIE变量的值</td></tr><tr><td>$limit_rate</td><td>这个变量可以限制连接速率，0表示不限速</td></tr><tr><td>$request_body</td><td>记录POST过来的数据信息</td></tr><tr><td>$request_body_file</td><td>客户端请求主体信息的临时文件名</td></tr><tr><td>$scheme</td><td>HTTP方法（如http，https）,如：http</td></tr><tr><td>$request_completion</td><td>如果请求结束，设置为OK. 当请求未结束或如果该请求不是请求链串的最后一个时，为空(Empty)，如：OK</td></tr><tr><td>$server_protocol</td><td>请求使用的协议，通常是HTTP/1.0或HTTP/1.1，如：HTTP/1.1</td></tr><tr><td>$server_addr</td><td>服务器IP地址，在完成一次系统调用后可以确定这个值</td></tr><tr><td>$server_name</td><td>服务器名称，如：blog.sakmon.com</td></tr><tr><td>$server_port</td><td>请求到达服务器的端口号,如：80</td></tr><tr><td>$connection</td><td>CP连接的序列号 (1.3.8, 1.2.5)</td></tr><tr><td>$connection_requests</td><td>CP连接当前的请求数量 (1.3.8, 1.2.5)</td></tr><tr><td>$nginx_version</td><td>nginx版本</td></tr><tr><td>$pid</td><td>工作进程的PID</td></tr><tr><td>$pipe</td><td>如果请求来自管道通信，值为“p”，否则为“.” (1.3.12, 1.2.7)</td></tr><tr><td>$proxy_protocol_addr</td><td>获取代理访问服务器的客户端地址，如果是直接访问，该值为空字符串。(1.5.12)</td></tr><tr><td>$realpath_root</td><td>当前请求的文档根目录或别名的真实路径，会将所有符号连接转换为真实路径。</td></tr></tbody></table>